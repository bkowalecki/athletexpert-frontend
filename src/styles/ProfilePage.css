:root{
  --ax-accent:#A23C20;
  --ax-accent-2:#d45330;
  --bg-1:#0f1012;
  --bg-2:#171a1f;
  --glass:rgba(255,255,255,0.06);
  --glass-b:rgba(255,255,255,0.10);
  --text:#fff;
  --muted:#cfd2da;
  --ring:0 0 0 3px rgba(162,60,32,.28);

  --radius-md:14px;
  --radius-lg:20px;
  --shadow-md:0 12px 28px rgba(0,0,0,.28);

  --sp-1:6px;--sp-2:10px;--sp-3:14px;--sp-4:18px;--sp-5:24px;--sp-6:32px;
}

/* Frame + animated ribbon */
.profile-frame{
  min-height:100vh;
  background:linear-gradient(135deg,var(--bg-1),var(--bg-2));
  color:var(--text);
  padding:84px 16px 32px;
  position:relative;
  overflow:hidden;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif;
}

.ribbon{
  position:absolute; inset:-40% -20% auto -20%;
  height:75vh;
  background:
    radial-gradient(closest-side, rgba(255,255,255,.14), transparent),
    radial-gradient(closest-side, rgba(255,255,255,.09), transparent);
  background-repeat:no-repeat;
  filter:blur(10px);
  animation:ribbonMove 20s linear infinite;
  opacity:.7;
  z-index:0;
}
@keyframes ribbonMove{
  0%{transform:translateX(-10%) rotate(8deg)}
  50%{transform:translateX(10%) rotate(-6deg)}
  100%{transform:translateX(-10%) rotate(8deg)}
}
@media (prefers-reduced-motion:reduce){
  .ribbon{animation:none}
}

/* Layout */
.shell{
  position:relative;
  z-index:1;
  max-width:1200px;
  margin:0 auto;
  display:grid;
  grid-template-columns:320px 1fr;
  gap:var(--sp-5);
}
@media (max-width:980px){
  .shell{grid-template-columns:1fr}
}

/* Cards */
.card{
  border-radius:var(--radius-md);
  box-shadow:var(--shadow-md);
  padding:var(--sp-5);
}
.glass{
  background:var(--glass);
  border:1px solid var(--glass-b);
  backdrop-filter:saturate(140%) blur(10px);
}

/* Left rail profile card */
.profile-card{ position:sticky; top:96px; }
@media (max-width:980px){ .profile-card{ position:static; } }

.avatar-wrap{
  width:140px;height:140px;border-radius:50%;
  overflow:hidden;border:4px solid var(--ax-accent); margin:0 auto var(--sp-3);
}
.avatar{width:100%;height:100%;object-fit:cover;display:block}
.avatar-fallback{width:100%;height:100%;display:grid;place-items:center;background:#262a31;font-weight:900;font-size:1.8rem;letter-spacing:.04em}

.display-name{
  text-align:center;font-weight:900;font-size:1.6rem;margin:0 0 var(--sp-1)
}
.muted{color:var(--muted);text-align:center;font-size:.95rem}
.bio{margin:var(--sp-2) 0; color:#e9ebf0; line-height:1.6; text-align:center}

.meter{height:10px;background:rgba(255,255,255,.08);border-radius:999px;overflow:hidden;margin:var(--sp-3) 0 var(--sp-1)}
.meter-bar{height:100%;background:linear-gradient(90deg,var(--ax-accent),var(--ax-accent-2));width:0%;transition:width .5s ease}
.meter-label{text-align:center;font-size:.9rem;color:#e9e9ea;margin-bottom:var(--sp-3)}

.quick-actions{display:flex;gap:10px;flex-wrap:wrap;justify-content:center}
.btn{
  border-radius:10px;padding:10px 14px;font-weight:800;cursor:pointer;
  border:1px solid transparent; transition:transform .15s ease, background .2s ease, border-color .2s ease, color .2s ease;
}
.btn:focus-visible{outline:none;box-shadow:var(--ring)}
.btn.primary{background:#fff;color:var(--ax-accent);border-color:#f1f1f1}
.btn.primary:hover{transform:translateY(-1px)}
.btn.subtle{background:#1c1f25;color:#fff;border-color:#262a31}
.btn.subtle:hover{background:#222731}
.btn.danger{background:#2b1210;color:#ffd3d3;border-color:#3b1a16}
.btn.danger:hover{background:#391713}

.stats{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:var(--sp-3)}
.stat{background:rgba(0,0,0,.18);border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:12px;text-align:center}
.stat-num{font-weight:900;font-size:1.2rem;color:#fff}
.stat-label{font-size:.85rem;color:#cfd2da}

/* Main rail */
.tabs{
  display:flex;gap:8px;flex-wrap:wrap;margin-bottom:var(--sp-3);
  background:#0f1114;border:1px solid #23262d;border-radius:12px;padding:6px;
}
.tab{
  padding:10px 12px;border-radius:8px;background:transparent;color:#cfd3da;font-weight:800;border:none;cursor:pointer;transition:all .15s ease;
}
.tab:hover{background:#171a1f;color:#fff}
.tab.active{background:#1f232a;color:#fff;border:1px solid #2a2f38;box-shadow:inset 0 0 0 1px rgba(255,255,255,.05)}

.section-title{font-size:1.25rem;font-weight:900;margin:0 0 var(--sp-2); letter-spacing:.01em}

.chips{display:flex;flex-wrap:wrap;gap:10px}
.chip{
  background:linear-gradient(135deg,var(--ax-accent),var(--ax-accent-2));
  color:#fff;border:1px solid rgba(255,255,255,.15);
  border-radius:999px;padding:10px 14px;font-weight:900;letter-spacing:.02em;cursor:pointer;transition:transform .12s ease, box-shadow .2s ease;
}
.chip:hover{transform:translateY(-1px)}
.chip:focus-visible{outline:none;box-shadow:var(--ring)}

.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(280px,1fr));
  gap:var(--sp-4);
}

.empty{
  display:grid;place-items:center;text-align:center;padding:32px;background:rgba(255,255,255,.05);
  border:1px solid rgba(255,255,255,.08);border-radius:12px;color:#e9ebf0;
}

/* Loading skeletons */
.skeleton .avatar-skel{width:120px;height:120px;border-radius:50%;background:rgba(255,255,255,.08);margin:0 auto var(--sp-3)}
.skeleton .line-skel{height:14px;border-radius:8px;background:rgba(255,255,255,.08);margin:10px 0}
.skeleton .line-skel.short{width:60%}
.shimmer{position:relative;overflow:hidden}
.shimmer::after{
  content:"";position:absolute;inset:0;transform:translateX(-100%);
  background:linear-gradient(90deg,transparent,rgba(255,255,255,.12),transparent);
  animation:shimmer 1.1s infinite;
}
@keyframes shimmer{100%{transform:translateX(100%)}}
@media (prefers-reduced-motion:reduce){ .shimmer::after{animation:none} }

/* Error */
.profile-error-wrap{
  min-height:70vh;display:grid;place-items:center;padding:24px;background:linear-gradient(135deg,var(--bg-1),var(--bg-2));color:#fff;
}

/* Utility states for loading */
.loading .shell{opacity:.9}

.overview-grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:var(--sp-4);
}
@media (max-width:720px){ .overview-grid{ grid-template-columns:1fr; } }
.subtle-title{font-weight:800;letter-spacing:.02em;margin-bottom:8px;color:#e9ebf0}

/* Streak heatmap */
.streak{display:grid;grid-template-columns:repeat(7, 14px);gap:6px;align-content:start}
.streak-cell{
  width:14px;height:14px;border-radius:3px;background:rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.08);
}
.streak-cell.lvl-1{background:rgba(162,60,32,.30)}
.streak-cell.lvl-2{background:rgba(162,60,32,.45)}
.streak-cell.lvl-3{background:rgba(162,60,32,.60)}
.streak-cell.lvl-4{background:rgba(162,60,32,.75)}

/* Badges */
.badges{display:flex;gap:10px;flex-wrap:wrap}
.badge{
  display:flex;gap:10px;align-items:center;
  background:rgba(255,255,255,.05);
  border:1px solid rgba(255,255,255,.08);
  border-radius:12px;padding:10px 12px;
}
.badge-icon{font-size:1.2rem}
.badge-label{font-weight:800}
.badge-date{font-size:.8rem;color:#cfd2da}

/* Activity list */
.activity{list-style:none;margin:0;padding:0;display:grid;gap:10px}
.activity-item{background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.08);border-radius:12px}
.activity-link{
  display:flex;gap:10px;align-items:center;justify-content:space-between;width:100%;
  padding:10px 12px;background:transparent;border:none;color:#fff;text-align:left;cursor:pointer;
}
.activity-icon{font-size:1.1rem}
.activity-label{flex:1}
.activity-date{color:#cfd2da;font-size:.9rem}
.activity-link:hover{background:rgba(255,255,255,.06)}

/* Checklist */
.checklist{list-style:none;margin:0;padding:0;display:grid;gap:10px}
.check{background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.08);border-radius:12px}
.check.done{opacity:.85}
.check-btn{display:flex;gap:10px;align-items:center;width:100%;padding:10px 12px;background:transparent;border:none;color:#fff;text-align:left;cursor:pointer}
.check-box{
  width:18px;height:18px;border-radius:4px;border:2px solid rgba(255,255,255,.3);
  display:inline-grid;place-items:center;font-size:.8rem;background:rgba(255,255,255,.04);
}
.check.done .check-box{background:#1f232a;border-color:#3a404b}

/* Privacy toggle */
.privacy{display:grid;gap:6px;margin-bottom:var(--sp-2)}
.privacy-row{display:flex;align-items:center;justify-content:space-between}
.privacy-label{font-weight:900}
.switch{
  width:48px;height:28px;border-radius:999px;background:#2a2f38;border:1px solid #3a414d;position:relative;transition:background .2s ease;
}
.switch .knob{
  position:absolute;top:50%;left:4px;transform:translateY(-50%);
  width:20px;height:20px;border-radius:50%;background:#fff;transition:left .2s ease;
}
.switch.on{background:linear-gradient(90deg,var(--ax-accent),var(--ax-accent-2))}
.switch.on .knob{left:24px}
.privacy-sub{color:#cfd2da;font-size:.95rem}
